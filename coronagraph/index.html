<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Covid-19 Tracker</title>

    <!-- jQuery Library -->
    <script src="js/jquery-3.3.1.min.js"></script>

    <!-- Style -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
    <link rel="stylesheet" href="css/fontawesome.min.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="js/bootstrap.min.js"></script> 
    <link rel="stylesheet" href="css/templatemo-style.css"> 

    <!-- chart.js Library -->
    <script src="js/Chart.min.js"></script>
</head>



<body id="reportsPage">
    <div class="" id="home">
        <nav class="navbar navbar-expand-xl">
            <div class="container h-100">
                <a class="navbar-brand" href="index.html">
                    <h1 class="tm-site-title mb-0">Tracker</h1>
                </a>
                <button class="navbar-toggler ml-auto mr-0" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fas fa-bars tm-nav-icon"></i>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mx-auto h-100">
                        <li class="nav-item">
                            <a class="nav-link active" href="#">
                                <i class="fas fa-tachometer-alt"></i>
                                Dashboard
                                <span class="sr-only">(current)</span>
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="covidinfo.html">
                                <i class="fas fa-info-circle"></i> COVID info
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="about.html">
                                <i class="far fa-user"></i>
                                Über Uns
                            </a>
                        </li>
                    </ul>
                   
                </div>
            </div>

        </nav>
        <div class="container">
            <div class="container mt-5">
                <div class="row tm-content-row">
                    <div class="col-12 tm-block-col" style="margin-bottom:0">
                        <div class="tm-bg-primary-dark tm-block tm-block-h-auto">
                            <h2 class="tm-block-title">What is this page about</h2>
                            <p class="text-white">text</p>
                            <p class="text-white">text</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container-fluid mt-5">
                <div class="tm-bg-primary-dark tm-block">
                    <h2 class="tm-block-title">COVID 19 in der Schweiz</h2>
                    <div class="row">
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12 mt-3">
                            <label>Zeitfenster</label>
                            <select id="ct_timeframe">
                                <option value="1">Total</option>
                                <option value="0">Letzter Monat</option>
                            </select>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12 mt-3">
                            <label>Infiziert</label>
                            <input type="checkbox" name="ct_cases" checked="checked" />
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12 mt-3">
                            <label>Erholt</label>
                            <input type="checkbox" name="ct_recovered" checked="checked" />
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12 mt-3">
                            <label>Verstorben</label>
                            <input type="checkbox" name="ct_deaths" checked="checked" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 mt-3">
                            <h2 class="tm-block-title mt-5" id="ct_title"></h2>
                            <div id="ct_infected_val" class="country-data">
                                <label>Infiziert:</label>
                                <span>0</span>
                            </div>
                            <div id="ct_recovered_val" class="country-data">
                                <label>Erholt:</label>
                                <span>0</span>
                            </div>
                            <div id="ct_deaths_val" class="country-data">
                                <label>Verstorben:</label>
                                <span>0</span>
                            </div>
                        </div>
                        <div id="countryChart" class="col-lg-9 col-md-9 col-sm-12 col-xs-12 mt-3"></div>
                    </div>
                </div>
            </div>

            <div class="container-fluid mt-5">
                <div class="tm-bg-primary-dark tm-block">
                    <h2 class="tm-block-title">Weltweite COVID 19 Statistiken</h2>
                    <div class="row">
                        <div class="col-lg-2 col-md-4 col-sm-6 col-xs-12 mt-3">
                            <label>Auswahl</label>
                            <select id="ww_type">
                                <option value="cases">Infiziert</option>
                                <option value="recovered">Erholt</option>
                                <option value="deaths">Verstorben</option>
                            </select>
                        </div>
                        <div class="col-lg-2 col-md-4 col-sm-6 col-xs-12 mt-3">
                            <label>Zeitfenster</label>
                            <select id="ww_timeframe">
                                <option value="1">Total</option>
                                <option value="0">Letzte 30 Tage</option>
                            </select>
                        </div>
                        <div class="col-lg-2 col-md-4 col-sm-6 col-xs-12 mt-3">
                            <label><div class="info-ball red"></div> <div class="info-bal-text">Land</div></label>
                            <select id="ww_country1">
                                <option>Afghanistan</option><option>Albania</option><option>Algeria</option><option>Andorra</option><option>Angola</option><option>Antigua and Barbuda</option><option>Argentina</option><option>Armenia</option><option>Australia</option><option>Austria</option><option>Azerbaijan</option><option>Bahamas</option><option>Bahrain</option><option>Bangladesh</option><option>Barbados</option><option>Belarus</option><option>Belgium</option><option>Belize</option><option>Benin</option><option>Bhutan</option><option>Bolivia</option><option>Bosnia</option><option>Botswana</option><option>Brazil</option><option>Brunei</option><option>Bulgaria</option><option>Burkina Faso</option><option>Burma</option><option>Burundi</option><option>Cabo Verde</option><option>Cambodia</option><option>Cameroon</option><option>Canada</option><option>Central African Republic</option><option>Chad</option><option>Chile</option><option>China</option><option>Colombia</option><option>Comoros</option><option>Congo</option><option>DRC</option><option>Costa Rica</option><option>Côte d'Ivoire</option><option>Croatia</option><option>Cuba</option><option>Cyprus</option><option>Czechia</option><option>Denmark</option><option>Diamond Princess</option><option>Djibouti</option><option>Dominica</option><option>Dominican Republic</option><option>Ecuador</option><option>Egypt</option><option>El Salvador</option><option>Equatorial Guinea</option><option>Eritrea</option><option>Estonia</option><option>Swaziland</option><option>Ethiopia</option><option>Fiji</option><option>Finland</option><option>France</option><option>Gabon</option><option>Gambia</option><option>Georgia</option><option>Germany</option><option>Ghana</option><option>Greece</option><option>Grenada</option><option>Guatemala</option><option>Guinea</option><option>Guinea-Bissau</option><option>Guyana</option><option>Haiti</option><option>Holy See</option><option>Honduras</option><option>Hungary</option><option>Iceland</option><option>India</option><option>Indonesia</option><option>Iran</option><option>Iraq</option><option>Ireland</option><option>Israel</option><option>Italy</option><option>Jamaica</option><option>Japan</option><option>Jordan</option><option>Kazakhstan</option><option>Kenya</option><option>S. Korea</option><option>Kosovo</option><option>Kuwait</option><option>Kyrgyzstan</option><option>Lao People's Democratic Republic</option><option>Latvia</option><option>Lebanon</option><option>Lesotho</option><option>Liberia</option><option>Libyan Arab Jamahiriya</option><option>Liechtenstein</option><option>Lithuania</option><option>Luxembourg</option><option>MS Zaandam</option><option>Madagascar</option><option>Malawi</option><option>Malaysia</option><option>Maldives</option><option>Mali</option><option>Malta</option><option>Marshall Islands</option><option>Mauritania</option><option>Mauritius</option><option>Mexico</option><option>Moldova</option><option>Monaco</option><option>Mongolia</option><option>Montenegro</option><option>Morocco</option><option>Mozambique</option><option>Namibia</option><option>Nepal</option><option>Netherlands</option><option>New Zealand</option><option>Nicaragua</option><option>Niger</option><option>Nigeria</option><option>Macedonia</option><option>Norway</option><option>Oman</option><option>Pakistan</option><option>Panama</option><option>Papua New Guinea</option><option>Paraguay</option><option>Peru</option><option>Philippines</option><option>Poland</option><option>Portugal</option><option>Qatar</option><option>Romania</option><option>Russia</option><option>Rwanda</option><option>Saint Kitts and Nevis</option><option>Saint Lucia</option><option>Saint Vincent and the Grenadines</option><option>San Marino</option><option>Sao Tome and Principe</option><option>Saudi Arabia</option><option>Senegal</option><option>Serbia</option><option>Seychelles</option><option>Sierra Leone</option><option>Singapore</option><option>Slovakia</option><option>Slovenia</option><option>Solomon Islands</option><option>Somalia</option><option>South Africa</option><option>South Sudan</option><option>Spain</option><option>Sri Lanka</option><option>Sudan</option><option>Suriname</option><option>Sweden</option><option selected="selected">Switzerland</option><option>Syrian Arab Republic</option><option>Taiwan</option><option>Tajikistan</option><option>Tanzania</option><option>Thailand</option><option>Timor-Leste</option><option>Togo</option><option>Trinidad and Tobago</option><option>Tunisia</option><option>Turkey</option><option>USA</option><option>Uganda</option><option>Ukraine</option><option>UAE</option><option>UK</option><option>Uruguay</option><option>Uzbekistan</option><option>Vanuatu</option><option>Venezuela</option><option>Vietnam</option><option>West Bank and Gaza</option><option>Western Sahara</option><option>Yemen</option><option>Zambia</option><option>Zimbabwe</option>
                            </select>
                        </div>
                        <div class="col-lg-2 col-md-4 col-sm-6 col-xs-12 mt-3">
                            <label><div class="info-ball yellow"></div> <div class="info-bal-text">Land</div></label>
                            <select id="ww_country2">
                                <option>Afghanistan</option><option>Albania</option><option>Algeria</option><option>Andorra</option><option>Angola</option><option>Antigua and Barbuda</option><option>Argentina</option><option>Armenia</option><option>Australia</option><option>Austria</option><option>Azerbaijan</option><option>Bahamas</option><option>Bahrain</option><option>Bangladesh</option><option>Barbados</option><option>Belarus</option><option>Belgium</option><option>Belize</option><option>Benin</option><option>Bhutan</option><option>Bolivia</option><option>Bosnia</option><option>Botswana</option><option>Brazil</option><option>Brunei</option><option>Bulgaria</option><option>Burkina Faso</option><option>Burma</option><option>Burundi</option><option>Cabo Verde</option><option>Cambodia</option><option>Cameroon</option><option>Canada</option><option>Central African Republic</option><option>Chad</option><option>Chile</option><option>China</option><option>Colombia</option><option>Comoros</option><option>Congo</option><option>DRC</option><option>Costa Rica</option><option>Côte d'Ivoire</option><option>Croatia</option><option>Cuba</option><option>Cyprus</option><option>Czechia</option><option>Denmark</option><option>Diamond Princess</option><option>Djibouti</option><option>Dominica</option><option>Dominican Republic</option><option>Ecuador</option><option>Egypt</option><option>El Salvador</option><option>Equatorial Guinea</option><option>Eritrea</option><option>Estonia</option><option>Swaziland</option><option>Ethiopia</option><option>Fiji</option><option>Finland</option><option>France</option><option>Gabon</option><option>Gambia</option><option>Georgia</option><option selected="selected">Germany</option><option>Ghana</option><option>Greece</option><option>Grenada</option><option>Guatemala</option><option>Guinea</option><option>Guinea-Bissau</option><option>Guyana</option><option>Haiti</option><option>Holy See</option><option>Honduras</option><option>Hungary</option><option>Iceland</option><option>India</option><option>Indonesia</option><option>Iran</option><option>Iraq</option><option>Ireland</option><option>Israel</option><option>Italy</option><option>Jamaica</option><option>Japan</option><option>Jordan</option><option>Kazakhstan</option><option>Kenya</option><option>S. Korea</option><option>Kosovo</option><option>Kuwait</option><option>Kyrgyzstan</option><option>Lao People's Democratic Republic</option><option>Latvia</option><option>Lebanon</option><option>Lesotho</option><option>Liberia</option><option>Libyan Arab Jamahiriya</option><option>Liechtenstein</option><option>Lithuania</option><option>Luxembourg</option><option>MS Zaandam</option><option>Madagascar</option><option>Malawi</option><option>Malaysia</option><option>Maldives</option><option>Mali</option><option>Malta</option><option>Marshall Islands</option><option>Mauritania</option><option>Mauritius</option><option>Mexico</option><option>Moldova</option><option>Monaco</option><option>Mongolia</option><option>Montenegro</option><option>Morocco</option><option>Mozambique</option><option>Namibia</option><option>Nepal</option><option>Netherlands</option><option>New Zealand</option><option>Nicaragua</option><option>Niger</option><option>Nigeria</option><option>Macedonia</option><option>Norway</option><option>Oman</option><option>Pakistan</option><option>Panama</option><option>Papua New Guinea</option><option>Paraguay</option><option>Peru</option><option>Philippines</option><option>Poland</option><option>Portugal</option><option>Qatar</option><option>Romania</option><option>Russia</option><option>Rwanda</option><option>Saint Kitts and Nevis</option><option>Saint Lucia</option><option>Saint Vincent and the Grenadines</option><option>San Marino</option><option>Sao Tome and Principe</option><option>Saudi Arabia</option><option>Senegal</option><option>Serbia</option><option>Seychelles</option><option>Sierra Leone</option><option>Singapore</option><option>Slovakia</option><option>Slovenia</option><option>Solomon Islands</option><option>Somalia</option><option>South Africa</option><option>South Sudan</option><option>Spain</option><option>Sri Lanka</option><option>Sudan</option><option>Suriname</option><option>Sweden</option><option>Switzerland</option><option>Syrian Arab Republic</option><option>Taiwan</option><option>Tajikistan</option><option>Tanzania</option><option>Thailand</option><option>Timor-Leste</option><option>Togo</option><option>Trinidad and Tobago</option><option>Tunisia</option><option>Turkey</option><option>USA</option><option>Uganda</option><option>Ukraine</option><option>UAE</option><option>UK</option><option>Uruguay</option><option>Uzbekistan</option><option>Vanuatu</option><option>Venezuela</option><option>Vietnam</option><option>West Bank and Gaza</option><option>Western Sahara</option><option>Yemen</option><option>Zambia</option><option>Zimbabwe</option>
                            </select>
                        </div>
                        <div class="col-lg-2 col-md-4 col-sm-6 col-xs-12 mt-3">
                            <label><div class="info-ball green"></div> <div class="info-bal-text">Land</div></label>
                            <select id="ww_country3">
                                <option>Afghanistan</option><option>Albania</option><option>Algeria</option><option>Andorra</option><option>Angola</option><option>Antigua and Barbuda</option><option>Argentina</option><option>Armenia</option><option>Australia</option><option>Austria</option><option>Azerbaijan</option><option>Bahamas</option><option>Bahrain</option><option>Bangladesh</option><option>Barbados</option><option>Belarus</option><option>Belgium</option><option>Belize</option><option>Benin</option><option>Bhutan</option><option>Bolivia</option><option>Bosnia</option><option>Botswana</option><option>Brazil</option><option>Brunei</option><option>Bulgaria</option><option>Burkina Faso</option><option>Burma</option><option>Burundi</option><option>Cabo Verde</option><option>Cambodia</option><option>Cameroon</option><option>Canada</option><option>Central African Republic</option><option>Chad</option><option>Chile</option><option>China</option><option>Colombia</option><option>Comoros</option><option>Congo</option><option>DRC</option><option>Costa Rica</option><option>Côte d'Ivoire</option><option>Croatia</option><option>Cuba</option><option>Cyprus</option><option>Czechia</option><option>Denmark</option><option>Diamond Princess</option><option>Djibouti</option><option>Dominica</option><option>Dominican Republic</option><option>Ecuador</option><option>Egypt</option><option>El Salvador</option><option>Equatorial Guinea</option><option>Eritrea</option><option>Estonia</option><option>Swaziland</option><option>Ethiopia</option><option>Fiji</option><option>Finland</option><option>France</option><option>Gabon</option><option>Gambia</option><option>Georgia</option><option>Germany</option><option>Ghana</option><option>Greece</option><option>Grenada</option><option>Guatemala</option><option>Guinea</option><option>Guinea-Bissau</option><option>Guyana</option><option>Haiti</option><option>Holy See</option><option>Honduras</option><option>Hungary</option><option>Iceland</option><option>India</option><option>Indonesia</option><option>Iran</option><option>Iraq</option><option>Ireland</option><option>Israel</option><option>Italy</option><option>Jamaica</option><option>Japan</option><option>Jordan</option><option>Kazakhstan</option><option>Kenya</option><option>S. Korea</option><option>Kosovo</option><option>Kuwait</option><option>Kyrgyzstan</option><option>Lao People's Democratic Republic</option><option>Latvia</option><option>Lebanon</option><option>Lesotho</option><option>Liberia</option><option>Libyan Arab Jamahiriya</option><option>Liechtenstein</option><option>Lithuania</option><option>Luxembourg</option><option>MS Zaandam</option><option>Madagascar</option><option>Malawi</option><option>Malaysia</option><option>Maldives</option><option>Mali</option><option>Malta</option><option>Marshall Islands</option><option>Mauritania</option><option>Mauritius</option><option>Mexico</option><option>Moldova</option><option>Monaco</option><option>Mongolia</option><option>Montenegro</option><option>Morocco</option><option>Mozambique</option><option>Namibia</option><option>Nepal</option><option>Netherlands</option><option>New Zealand</option><option>Nicaragua</option><option>Niger</option><option>Nigeria</option><option>Macedonia</option><option>Norway</option><option>Oman</option><option>Pakistan</option><option>Panama</option><option>Papua New Guinea</option><option>Paraguay</option><option>Peru</option><option>Philippines</option><option>Poland</option><option>Portugal</option><option>Qatar</option><option>Romania</option><option>Russia</option><option>Rwanda</option><option>Saint Kitts and Nevis</option><option>Saint Lucia</option><option>Saint Vincent and the Grenadines</option><option>San Marino</option><option>Sao Tome and Principe</option><option>Saudi Arabia</option><option>Senegal</option><option>Serbia</option><option>Seychelles</option><option>Sierra Leone</option><option>Singapore</option><option>Slovakia</option><option>Slovenia</option><option>Solomon Islands</option><option>Somalia</option><option>South Africa</option><option>South Sudan</option><option>Spain</option><option>Sri Lanka</option><option>Sudan</option><option>Suriname</option><option>Sweden</option><option>Switzerland</option><option>Syrian Arab Republic</option><option>Taiwan</option><option>Tajikistan</option><option>Tanzania</option><option>Thailand</option><option>Timor-Leste</option><option>Togo</option><option>Trinidad and Tobago</option><option>Tunisia</option><option>Turkey</option><option selected="selected">USA</option><option>Uganda</option><option>Ukraine</option><option>UAE</option><option>UK</option><option>Uruguay</option><option>Uzbekistan</option><option>Vanuatu</option><option>Venezuela</option><option>Vietnam</option><option>West Bank and Gaza</option><option>Western Sahara</option><option>Yemen</option><option>Zambia</option><option>Zimbabwe</option>
                            </select>
                        </div>
                    </div>
                    <h2 class="tm-block-title mt-5" id="ww_title"></h2>
                    <div id="worldwideChart"></div>
                </div>
            </div>

            <footer class="tm-footer row tm-mt-small">
                <div class="col-12 font-weight-light">
                  <p class="text-center text-white mb-0 px-4 small">
                    Copyright &copy; <b>2020</b> Covid-Tracker by Students FHGR - Webprogrammierung
                  </p>
                </div>
          </footer>
    </div>
    </div>
<script>
    var xhrLineChart = false;
    var xhrBarChart = false;

    //Farbe für Grafik
    Chart.defaults.global.defaultFontColor = 'white';


    //Update Weltweit Grafik wenn eine Auswahl geändert wird 
    $('#ww_type, #ww_timeframe, #ww_country1, #ww_country2, #ww_country3').on('change', function() {
        drawLineChart($('#ww_type').val(), $('#ww_timeframe').val(), $('#ww_country1').val(), $('#ww_country2').val(), $('#ww_country3').val());
    });

    //Zeichnen der  Weltweit Grafik wenn die Seite lädt 
    drawLineChart($('#ww_type').val(), $('#ww_timeframe').val(), $('#ww_country1').val(), $('#ww_country2').val(), $('#ww_country3').val());

    //Update Schweizer Grafik wenn eine Auswahl geändert wird 
    $('#ct_timeframe, input[name="ct_cases"], input[name="ct_recovered"], input[name="ct_deaths"]').on('change', function() {
        drawBarChart($('#ct_timeframe').val(), $('input[name="ct_cases"]').prop('checked'), $('input[name="ct_recovered"]').prop('checked'), $('input[name="ct_deaths"]').prop('checked'));
    });

    //Zeichnen der Schweizer Grafik wenn die Seite lädt
    drawBarChart($('#ct_timeframe').val(), $('input[name="ct_cases"]').prop('checked'), $('input[name="ct_recovered"]').prop('checked'), $('input[name="ct_deaths"]').prop('checked'));

    

    // Funktion für das Zeichnen der Schweizer Grafik 
    function drawBarChart(timeframe, infected, recovered, deaths)
    {
        
        //AJAX Call zur API für alle Monate oder einen Monat
        xhrBarChart = $.get('https://disease.sh/v3/covid-19/historical/Switzerland?lastdays=' + (timeframe == 1 ? 'all' : '1'), function(data) {
            xhr = false;

            //formatieren der daten
            data = processDataBarChart(data, infected, recovered, deaths, timeframe);

            //Titel setzten
            $('#ct_title').text(data.title);

            if (data.total_infected)
                $('#ct_infected_val').show().find('span').text(data.total_infected);
            else
                $('#ct_infected_val').hide();

            if (data.total_recovered)
                $('#ct_recovered_val').show().find('span').text(data.total_recovered);
            else
                $('#ct_recovered_val').hide();

            if (data.total_deaths)
                $('#ct_deaths_val').show().find('span').text(data.total_deaths);
            else
                $('#ct_deaths_val').hide();

            //Zeichnen der Grafik mit chart.js
            $('#countryChart').html('<canvas />');
            var ctx = $('#countryChart canvas');
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: data.labels,
                    datasets: data.dataSets
                },
                options: {
                    responsive: true,
                    legend: {
                        position: "top"
                    },
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                    }
                }
            });
        });
    }

    //Funktion für das Zeichnen der Weltweiten Grafik 
    function drawLineChart(type, timeframe, country1, country2, country3)
    {

        //AJAX Call zur API für verschiedene Länder und alle Monate oder einen Monat
        xhrLineChart = $.get('https://disease.sh/v3/covid-19/historical/' + country1 + ',' + country2 + ',' + country3 + '?lastdays=' + (timeframe == 1 ? 'all' : '30'), function(data) {
            xhr = false;

            //formatieren der Daten
            data = processDataLineChart(data, type);

            //Titel setzten
            let title = '';

            if (type == 'cases') title = 'Infektionen';
            if (type == 'recovered') title = 'Erholte';
            if (type == 'deaths') title = 'Verstorbene';

            $('#ww_title').text(title);

            //Zeichnen der Grafik mit chart.js
            $('#worldwideChart').html('<canvas />');
            var ctx = $('#worldwideChart canvas');
            var myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: data.labels,
                    datasets: data.dataSets
                },
                options: {
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true,
                                max: data.max,
                                min: 0,
                                stepSize: data.stepSize
                            }
                        }]
                    }
                }
            });
        });
    }

    //Funktion die Daten der API für chartjs formatiert (weltweit)
    function processDataLineChart(data, type)
    {
        //return für das Darstellen der Daten 
        let returnVar = {
            dataSets : [
                {
                    label: data[0].country,
                    data: [],
                    backgroundColor: [
                        'rgba(255, 0, 0, 0.1)',

                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                    ],
                    borderWidth: 0,
                    pointRadius: 0
                },
                {
                    label: data[1].country,
                    data: [],
                    backgroundColor: [
                        'rgba(255, 255, 0, 0.1)',

                    ],
                    borderColor: [
                        'rgba(255, 255, 0, 1)',

                    ],
                    borderWidth: 1,
                    pointRadius: 0
                },
                {
                    label: data[2].country,
                    data: [],
                    backgroundColor: [
                        'rgba(0, 255, 0, 0.1)',

                    ],
                    borderColor: [
                        'rgba(0, 255, 0, 1)',
                    ],
                    borderWidth: 1,
                    pointRadius: 0
                }
            ],
            labels : [],
            max : 0,
            stepSize : 0
        }

        //verarbeiten der Daten für Land 1
        for (var date in data[0].timeline[type])
        {
            //Wert von Daten einlesen und in Variable schreiben
            let val = data[0].timeline[type][date];

            //Daten zum Graph hinzufügen 
            returnVar.dataSets[0].data.push(val);

            //Datum an die x-Achse anfügen und an europäische Schreibweise anpassen
            date = date.split('/');
            returnVar.labels.push(date[1] + '/' + date[0] + '/' + date[2]);

            //max. Wert für die x-Achse setzten
            if (returnVar.max < val)
                returnVar.max = val;
        }

        //verarbeiten der Daten für Land 2
        for (var date in data[1].timeline[type])
        {
             //Wert von Daten einlesen und in Variable schreiben
            let val = data[1].timeline[type][date];

            //Daten zum Graph hinzufügen 
            returnVar.dataSets[1].data.push(val);

            //max. Wert für die x-Achse setzten
            if (returnVar.max < val)
                returnVar.max = val;
        }

        //verarbeiten der Daten für Land 3
        for (var date in data[2].timeline[type])
        {
            //Wert von Daten einlesen und in Variable schreiben
            let val = data[2].timeline[type][date];

            //Daten zum Graph hinzufügen
            returnVar.dataSets[2].data.push(val);

            //max. Wert für die x-Achse setzten
            if (returnVar.max < val)
                returnVar.max = val;
        }

        return returnVar;
    }

    //Funktion die Daten der API für chartjs formatiert (Schweiz)
    function processDataBarChart(data, infected, recovered, deaths, timeframe)
    {
        let currentMonth = '';
        let dataSet = {};

        //return für das Darstellen der Daten 
        let returnVar = {
            dataSets : [],
            labels : [],
            total_recovered : 0,
            total_infected : 0,
            total_deaths : 0,
            title: ''
        }

        //Werte für x-Achse erstellen 
        for (var date in data.timeline.cases) {
            //jetziger Monat anzeigen 
            let currentLabel = date.split('/');
            currentLabel = currentLabel[0] + '/' + currentLabel[2];

            //zu X-Achse hinzufügen
            if (returnVar.labels.indexOf(currentLabel) == '-1')
                returnVar.labels.push(currentLabel);
        }

        //verarbeiten der Daten für infected
        if (infected)
        {
            dataSet = {};
            for (var date in data.timeline.cases) {
                //Wert von den cases in Variable schreiben 
                let val = data.timeline.cases[date];

                //Datum anpassen und in Variable schreiben
                let itemMonth = date.split('/');
                itemMonth = itemMonth[0] + '/' + itemMonth[2];

                //Monat in dataSet schreiben 
                if (!(itemMonth in dataSet))
                    dataSet[itemMonth] = 0;

                //Wert vom Monat in dataSet schreiben 
                dataSet[itemMonth] = val;
            }


             //return für chartjs
             let returnData = [];

            //dataSet für chartjs konvertieren
            for (var key in dataSet)
                returnData.push(dataSet[key]);

            //return Wert für chartjs setzten 
            returnVar.dataSets.push({
                label: "Infiziert",
                backgroundColor: "rgba(255, 99, 132, .6)",
                borderColor: "rgba(255, 99, 132, 1)",
                borderWidth: 1,
                data: returnData
            });

            //Total Wert setzten 
            returnVar.total_infected = returnData[returnData.length-1];
        }

        //verarbeiten der Daten für deaths
        if (deaths)
        {
            dataSet = {};
            for (var date in data.timeline.deaths) {
                //Wert von den deaths in Variable schreiben
                let val = data.timeline.deaths[date];

                //Datum anpassen und in Variable schreiben
                let itemMonth = date.split('/');
                itemMonth = itemMonth[0] + '/' + itemMonth[2];

                //Monat in dataSet schreiben 
                if (!(itemMonth in dataSet))
                    dataSet[itemMonth] = 0;

                //Wert vom Monat in dataSet schreiben
                dataSet[itemMonth] = val;
            }

            //return für chartjs
            let returnData = [];

            //dataSet für chartjs konvertieren
            for (var key in dataSet)
                returnData.push(dataSet[key]);

            //return Wert für chartjs setzten 
            returnVar.dataSets.push({
                label: "Verstorben",
                backgroundColor: "rgba(0, 255, 0, .6)",
                borderColor: "rgba(0, 255, 0, 1)",
                borderWidth: 1,
                data: returnData
            });

            //Total Wert setzten
            returnVar.total_deaths = returnData[returnData.length-1];
        }

        //verarbeiten der Daten für deaths recovered
        if (recovered)
        {
            dataSet = {};
            for (var date in data.timeline.recovered) {
                //Wert von den recovered in Variable schreiben
                let val = data.timeline.recovered[date];

                //Datum anpassen und in Variable schreiben
                let itemMonth = date.split('/');
                itemMonth = itemMonth[0] + '/' + itemMonth[2];

                //Monat in dataSet schreiben 
                if (!(itemMonth in dataSet))
                    dataSet[itemMonth] = 0;

                //Wert vom Monat in dataSet schreiben
                dataSet[itemMonth] = val;
            }

            //return für chartjs
            let returnData = [];

            //dataSet für chartjs konvertieren
            for (var key in dataSet)
                returnData.push(dataSet[key]);

            //return Wert für chartjs setzten 
            returnVar.dataSets.push({
                label: "Erholt",
                backgroundColor: "rgba(255, 255, 0, 06)",
                borderColor: "rgba(255, 255, 0, 1)",
                borderWidth: 1,
                data: returnData
            });

            //Total Wert setzten
            returnVar.total_recovered = returnData[returnData.length-1];
        }

        //Titel für Total setzten
        returnVar.title = timeframe == 1 ? 'Total' : 'Total für ' + returnVar.labels[0];

        return returnVar;
    }
    </script>

</body>

</html>